{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../book.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction DetailsComponent_table_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"table\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"th\");\n    i0.ɵɵtext(3, \"Id:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"tr\");\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Author:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelementStart(10, \"input\", 2);\n    i0.ɵɵlistener(\"ngModelChange\", function DetailsComponent_table_0_Template_input_ngModelChange_10_listener($event) {\n      const book_r3 = ctx.ngIf;\n      return book_r3.author = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"tr\");\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Title:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵelementStart(15, \"input\", 2);\n    i0.ɵɵlistener(\"ngModelChange\", function DetailsComponent_table_0_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.updateTitle($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"tr\");\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵelementStart(20, \"input\", 2);\n    i0.ɵɵlistener(\"ngModelChange\", function DetailsComponent_table_0_Template_input_ngModelChange_20_listener($event) {\n      const book_r3 = ctx.ngIf;\n      return book_r3.description = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"tr\");\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵelementStart(25, \"input\", 2);\n    i0.ɵɵlistener(\"ngModelChange\", function DetailsComponent_table_0_Template_input_ngModelChange_25_listener($event) {\n      const book_r3 = ctx.ngIf;\n      return book_r3.price = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"tr\");\n    i0.ɵɵelementStart(27, \"th\");\n    i0.ɵɵtext(28, \"EAN:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"td\");\n    i0.ɵɵelementStart(30, \"input\", 2);\n    i0.ɵɵlistener(\"ngModelChange\", function DetailsComponent_table_0_Template_input_ngModelChange_30_listener($event) {\n      const book_r3 = ctx.ngIf;\n      return book_r3.ean = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"tr\");\n    i0.ɵɵelementStart(32, \"td\", 3);\n    i0.ɵɵelementStart(33, \"div\", 4);\n    i0.ɵɵelementStart(34, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_table_0_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.updateBook();\n    });\n    i0.ɵɵtext(35, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_table_0_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.deleteBook();\n    });\n    i0.ɵɵtext(37, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r3 = ctx.ngIf;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r3.id);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r3.author);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r3.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r3.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r3.price);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r3.ean);\n  }\n}\n\nfunction DetailsComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 7);\n    i0.ɵɵtext(1, \"loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class DetailsComponent {\n  constructor(route, bookService, router) {\n    this.route = route;\n    this.bookService = bookService;\n    this.router = router;\n    this.id = route.snapshot.params.id;\n    this.book$ = this.bookService.getBookById(this.id);\n    this.book$.subscribe(value => this.book = value);\n  }\n\n  ngOnInit() {}\n\n  forceRedirect() {\n    this.router.navigate(['404']);\n  }\n\n  updateTitle(title) {\n    this.book.title = title;\n  }\n\n  updateBook() {\n    var _a, _b, _c, _d, _e, _f;\n\n    if (confirm('Are you sure you want to update this book in database with provided values?')) {\n      let json = {\n        id: (_a = this.book) === null || _a === void 0 ? void 0 : _a.id,\n        author: (_b = this.book) === null || _b === void 0 ? void 0 : _b.author,\n        title: (_c = this.book) === null || _c === void 0 ? void 0 : _c.title,\n        description: (_d = this.book) === null || _d === void 0 ? void 0 : _d.description,\n        price: (_e = this.book) === null || _e === void 0 ? void 0 : _e.price,\n        ean: (_f = this.book) === null || _f === void 0 ? void 0 : _f.ean\n      };\n      console.log(this.book);\n      let result = this.bookService.updateBook(this.id, json);\n      console.log(result);\n    }\n  }\n\n  deleteBook() {\n    if (confirm('Are you sure you want to delete this book from database?')) {\n      this.bookService.deleteBookById(this.id).subscribe();\n      this.router.navigate(['books']);\n    }\n  }\n\n}\n\nDetailsComponent.ɵfac = function DetailsComponent_Factory(t) {\n  return new (t || DetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.BookService), i0.ɵɵdirectiveInject(i1.Router));\n};\n\nDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetailsComponent,\n  selectors: [[\"app-details\"]],\n  decls: 4,\n  vars: 4,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"noData\", \"\"], [3, \"ngModel\", \"ngModelChange\"], [\"colspan\", \"2\"], [1, \"button-wrapper\"], [1, \"update-button\", 3, \"click\"], [1, \"delete-button\", 3, \"click\"], [1, \"loading\"]],\n  template: function DetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, DetailsComponent_table_0_Template, 38, 6, \"table\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, DetailsComponent_ng_template_2_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(3);\n\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.book$))(\"ngIfElse\", _r1);\n    }\n  },\n  directives: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n  pipes: [i3.AsyncPipe],\n  styles: [\".loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  position: relative;\\n  right: 5%;\\n  top: 25%;\\n  color: white;\\n  text-shadow: 1px 1px 1px black;\\n  font-family: \\\"Times New Roman\\\", Times, serif;\\n  font-size: 2em;\\n  line-height: 1.5em;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  border-collapse: collapse;\\n  margin: 25px 0;\\n  font-size: 0.9em;\\n  font-family: sans-serif;\\n  min-width: 400px;\\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\ntable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background-color: #9b8e66;\\n  color: #ffffff;\\n  text-align: left;\\n}\\n\\ntable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 12px 15px;\\n  border: 1px solid black;\\n}\\n\\n.button-wrapper[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-evenly;\\n  align-items: center;\\n  flex-direction: row;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  border: none;\\n  color: white;\\n  padding: 15px 32px;\\n  text-decoration: none;\\n  font-size: 16px;\\n  border-radius: 12px;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n  color: #9b8e66;\\n  text-shadow: 1px 1px 1px black;\\n}\\n\\n.delete-button[_ngcontent-%COMP%] {\\n  background-color: red;\\n}\\n\\n.update-button[_ngcontent-%COMP%] {\\n  background-color: blue;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRldGFpbHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsU0FBUztFQUNULFFBQVE7RUFDUixZQUFZO0VBQ1osOEJBQThCO0VBQzlCLDRDQUE0QztFQUM1QyxjQUFjO0VBQ2Qsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsdUJBQXVCO0VBQ3ZCLGdCQUFnQjtFQUNoQix3Q0FBd0M7RUFDeEMsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0VBQ2QsZ0JBQWdCO0FBQ2xCOztBQUVBOztFQUVFLGtCQUFrQjtFQUNsQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsNkJBQTZCO0VBQzdCLG1CQUFtQjtFQUNuQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixxQkFBcUI7RUFDckIsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLDBCQUEwQjtFQUMxQixjQUFjO0VBQ2QsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0Usc0JBQXNCO0FBQ3hCIiwiZmlsZSI6ImRldGFpbHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sb2FkaW5nIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHJpZ2h0OiA1JTtcbiAgdG9wOiAyNSU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4IGJsYWNrO1xuICBmb250LWZhbWlseTogXCJUaW1lcyBOZXcgUm9tYW5cIiwgVGltZXMsIHNlcmlmO1xuICBmb250LXNpemU6IDJlbTtcbiAgbGluZS1oZWlnaHQ6IDEuNWVtO1xufVxuXG50YWJsZSB7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gIG1hcmdpbjogMjVweCAwO1xuICBmb250LXNpemU6IDAuOWVtO1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgbWluLXdpZHRoOiA0MDBweDtcbiAgYm94LXNoYWRvdzogMCAwIDIwcHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxudGFibGUgdGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOWI4ZTY2O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cblxudGFibGUgdGgsXG50YWJsZSB0ZCB7XG4gIHBhZGRpbmc6IDEycHggMTVweDtcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG59XG5cbi5idXR0b24td3JhcHBlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuXG5idXR0b24ge1xuICBib3JkZXI6IG5vbmU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogMTVweCAzMnB4O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbn1cblxuYnV0dG9uOmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIGNvbG9yOiAjOWI4ZTY2O1xuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggYmxhY2s7XG59XG5cbi5kZWxldGUtYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xufVxuXG4udXBkYXRlLWJ1dHRvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG59XG4iXX0= */\"]\n});","map":{"version":3,"sources":["/home/kushiji/Desktop/library-webapp/frontend/src/app/details/details.component.ts","/home/kushiji/Desktop/library-webapp/frontend/src/app/details/details.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Book } from '../book';\nimport { BookService } from '../book.service';\nimport { Observable } from 'rxjs';\nimport { map, catchError, defaultIfEmpty } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.component.html',\n  styleUrls: ['./details.component.css'],\n})\nexport class DetailsComponent implements OnInit {\n  id: string;\n  book$: Observable<Book>;\n  book: Book | undefined;\n\n  constructor(\n    private route: ActivatedRoute,\n    private bookService: BookService,\n    private router: Router\n  ) {\n    this.id = route.snapshot.params.id;\n    this.book$ = this.bookService.getBookById(this.id);\n    this.book$.subscribe((value) => (this.book = value));\n  }\n\n  ngOnInit(): void {}\n\n  forceRedirect(): void {\n    this.router.navigate(['404']);\n  }\n\n  updateTitle(title: string) {\n    this.book.title = title;\n  }\n\n  updateBook() {\n    if (\n      confirm(\n        'Are you sure you want to update this book in database with provided values?'\n      )\n    ) {\n      let json = {\n        id: this.book?.id,\n        author: this.book?.author,\n        title: this.book?.title,\n        description: this.book?.description,\n        price: this.book?.price,\n        ean: this.book?.ean,\n      };\n      console.log(this.book);\n      let result = this.bookService.updateBook(this.id, json);\n      console.log(result);\n    }\n  }\n\n  deleteBook() {\n    if (confirm('Are you sure you want to delete this book from database?')) {\n      this.bookService.deleteBookById(this.id).subscribe();\n      this.router.navigate(['books']);\n    }\n  }\n}\n","<table *ngIf=\"book$ | async as book; else noData\">\n  <tr>\n    <th>Id:</th>\n    <td>{{ book.id }}</td>\n  </tr>\n  <tr>\n    <th>Author:</th>\n    <td><input [(ngModel)]=\"book.author\" /></td>\n  </tr>\n  <tr>\n    <th>Title:</th>\n    <td>\n      <input [ngModel]=\"book.title\" (ngModelChange)=\"updateTitle($event)\" />\n    </td>\n  </tr>\n  <tr>\n    <th>Description:</th>\n    <td><input [(ngModel)]=\"book.description\" /></td>\n  </tr>\n  <tr>\n    <th>Price:</th>\n    <td><input [(ngModel)]=\"book.price\" /></td>\n  </tr>\n  <tr>\n    <th>EAN:</th>\n    <td><input [(ngModel)]=\"book.ean\" /></td>\n  </tr>\n  <tr>\n    <td colspan=\"2\">\n      <div class=\"button-wrapper\">\n        <button class=\"update-button\" (click)=\"updateBook()\">Update</button>\n        <button class=\"delete-button\" (click)=\"deleteBook()\">Delete</button>\n      </div>\n    </td>\n  </tr>\n</table>\n\n<ng-template #noData><p class=\"loading\">loading...</p></ng-template>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}